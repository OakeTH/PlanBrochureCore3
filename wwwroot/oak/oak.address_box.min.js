oak.dropdown.addressbox=function(n){let r=350,t=" &gt; ",i=function(){this.input_province=this.validate_input(n.province);this.input_canton=this.validate_input(n.canton);this.input_district=this.validate_input(n.district);this.input_zipcode=this.validate_input(n.zipcode);this.add_refer(this.input_province,"P");this.add_refer(this.input_canton,"C");this.add_refer(this.input_district,"D");this.add_dropdownfn(this.input_province,"P","จังหวัด");this.add_dropdownfn(this.input_canton,"C","อำเภอ/เขต");this.add_dropdownfn(this.input_district,"D","ตำบล/แขวง");this.add_dropdownfn(this.input_zipcode,"Z","ไปรษณีย์")};i.prototype={validate_input:function(n){return $(oak.pureHtml(n))},separate_source:function(n,i){return i==="C"?Array.from(new Set($.map(n,function(n){return n.C+t+n.D+t+n.Z}))):Array.from(new Set($.map(n,function(n){return n[i]})))},focusout_for_province:function(){let n=this.value,t=this.prev;if(!t||n!==t){let t=$.grep(oak.dropdown.thaiaddress,function(t){return t.P===n});this.prev=this.value;this.my_canton&&$(this.my_canton).dropdown({source:this.separate_source(t,"C")}).val("");this.my_district&&(this.my_district.value="",oak.dropdown.source[this.my_district.id]=[]);this.my_zipcode&&(this.my_zipcode.value="",oak.dropdown.source[this.my_zipcode.id]=[])}},focusout_for_canton:function(){let n="",i="";if(this.value.indexOf(t)>-1){let r=this.value.split(t);this.value=r[0];n=r[1];i=r[2]}let r=this.value;if(this.my_district.value!==n||this.my_zipcode.value!==i){let t=$.grep(oak.dropdown.thaiaddress,function(n){return n.C===r});this.prev=this.value;this.my_district&&$(this.my_district).dropdown({source:this.separate_source(t,"D")});this.my_zipcode&&(oak.dropdown.source[this.my_zipcode.id]=[]);n&&(this.my_district.value=n);i&&(this.my_zipcode.value=i)}},focusout_for_district:function(){let n=this.value,t=this.prev;if(!t||n!==t){let t=$.grep(oak.dropdown.thaiaddress,function(t){return t.D===n});this.prev=this.value;this.my_zipcode&&$(this.my_zipcode).dropdown({source:this.separate_source(t,"Z")}).val("")}},add_refer:function(n,t){if(n){let i=n[0].tagName=="SELECT"?"change":"focusout";if(t==="P")n.refer("my_canton",this.input_canton).refer("my_district",this.input_district).refer("my_zipcode",this.input_zipcode).refer("separate_source",this.separate_source).on(i,this.focusout_for_province);else if(t==="C")n.refer("my_district",this.input_district).refer("my_zipcode",this.input_zipcode).refer("separate_source",this.separate_source).on(i,this.focusout_for_canton);else if(t==="D")n.refer("my_zipcode",this.input_zipcode).refer("separate_source",this.separate_source).on(i,this.focusout_for_district);if(n[0].tagName==="INPUT")n.on("click",function(){this.prev=this.value})}},add_dropdownfn:function(n,t,i){n&&(t==="P"?n.dropdown({source:this.separate_source(oak.dropdown.thaiaddress,t),placeholder:i}):t==="C"?n.dropdown({placeholder:i,width:r}):n.dropdown({placeholder:i}))}};new i};